-------------------------------------------------------------------------------------
-- 회원 테이블
-------------------------------------------------------------------------------------
drop sequence mem_seq;

create sequence mem_seq
increment by 1
start with 1
minvalue 1
maxvalue 10000
nocache;

DROP TABLE member;

CREATE TABLE member (
	mem_num number primary key,
	name varchar2(20) NULL,
	id varchar2(20) NULL,
	pw varchar2(70) NULL,
	category varchar2(10) NULL,
	lec_num varchar2(10) NULL,
	addr varchar2(20) NULL,
	phone varchar2(15) NULL,
	email varchar2(25) NULL,
	state varchar2(100) NULL,
	vacationNum number NULL,
	mem_ip varchar2(20)
);

INSERT INTO member  VALUES (mem_seq.nextval, '관리자', 'admin', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'admin', 'X', '서울시 강남구', '010-1234-5678', 'chulsoo@google.com', '관리자', 0,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '이영희', 'manager1', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'manager', '1/2', '서울시 서초구', '010-2345-6789', 'younghee@google.com', '근무', 2,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '박민수', 'manager2', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'manager', '3', '서울시 송파구', '010-3456-7890', 'minsoo@google.com', '근무', 4,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '최지영', 'teacher1', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'teacher', '1', '서울시 강동구', '010-4567-8901', 'jiyoung@google.com', '근무', 0,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '한가영', 'teacher2', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'teacher', '2', '서울시 마포구', '010-5678-9012', 'gayoung@google.com', '근무', 0,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '정우성', 'student1', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'student', '1', '서울시 은평구', '010-6789-0123', 'woosung@google.com', '진행', 4,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '김혜수', 'student2', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'student', '2', '서울시 노원구', '010-7890-1234', 'hyesoo@google.com', '진행', 2,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '이동욱', 'student3', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'student', '1', '서울시 성북구', '010-8901-2345', 'dongwook@google.com', '중도퇴실', 5,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '김하늘', 'student4', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'student', '2', '서울시 강북구', '010-9012-3456', 'haneul@google.com', '강제퇴실', 1,'106.241.247.83');
INSERT INTO member  VALUES (mem_seq.nextval, '박지훈', 'student5', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', 'student', '1', '서울시 강서구', '010-0123-4567', 'jihoon@google.com', '진행', 3,'106.241.247.83');

commit;

col mem_num for 99
col name for a10
col id for a10
col pw for a10
col category for a10
select mem_num, name, id, pw, category from member;

-------------------------------------------------------------------------------------
-- 강좌 테이블
-------------------------------------------------------------------------------------
drop sequence seq_lecture;
create sequence seq_lecture
	start with 1
	increment by 1
	nocache ;

DROP TABLE lecture CASCADE CONSTRAINTS;
CREATE TABLE lecture (
	lec_num number primary key,
	lec_name varchar2(100) NULL,
	teacher varchar2(15) NULL,
	manager varchar2(15) NULL,
	lec_start date NULL,
	lec_end date NULL,
	stu_cnt number NULL,
	class_name varchar2(10) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 캘린더 테이블
-------------------------------------------------------------------------------------
drop sequence seq_calender;
create sequence seq_calender
	start with 1
	increment by 1
	nocache ;

DROP TABLE calender CASCADE CONSTRAINTS;
CREATE TABLE calender (
	cal_num number primary key,
	lec_num number NULL,
	mem_num varchar2(20) NULL,
	class varchar2(20) NULL,
	name varchar2(20) NULL,
	title varchar2(40) NULL,
	content varchar2(100) NULL,
	date1 varchar2(20) NULL,
	date2 varchar2(20) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 강의 평가 테이블
-------------------------------------------------------------------------------------
drop sequence seq_evaluation;
create sequence seq_evaluation
	start with 1
	increment by 1
	nocache ;

DROP TABLE evaluation CASCADE CONSTRAINTS;
CREATE TABLE evaluation (
	eval_num number primary key,
	lec_num number NULL,
	eval_content varchar(200) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 공지사항 테이블
-------------------------------------------------------------------------------------

drop sequence seq_notice;
create sequence seq_notice
	start with 1
	increment by 1
	nocache ;

DROP TABLE notice CASCADE CONSTRAINTS;
CREATE TABLE notice (
	n_num number primary key,
	title varchar2(20) NULL,
	lec_num number NULL,
	mem_num number NULL,
	writer varchar2(20) NULL,
	day varchar2(20) NULL,
	content varchar2(30) NULL,
	upload varchar2(200) NULL
);


commit;
-------------------------------------------------------------------------------------
-- 출석 테이블
-------------------------------------------------------------------------------------
drop sequence seq_attend;
create sequence seq_attend
	start with 1
	increment by 1
	nocache ;

DROP TABLE attend CASCADE CONSTRAINTS;
CREATE TABLE attend (
	att_num number primary key,
	mem_num number NULL,
	day varchar2(2) NULL,
	att_sdate date NULL,
	att_fdate date NULL,
	study_time number NULL,
	situ varchar2(20) NULL,
	ip varchar2(20) NULL,
	latitude NUMBER(7, 5) NULL,
	longitude NUMBER(8, 5) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 강의 평가 결과 테이블
-------------------------------------------------------------------------------------
DROP TABLE eval_result CASCADE CONSTRAINTS;
CREATE TABLE eval_result (
	eval_num number NULL,
	lec_num number NULL,
	stu_num number NULL,
	eval_result varchar(100) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 시험 테이블
-------------------------------------------------------------------------------------
drop sequence seq_test;
create sequence seq_test
	start with 1
	increment by 1
	nocache ;

DROP TABLE test CASCADE CONSTRAINTS;
CREATE TABLE test (
	test_num number primary key,
	lec_num number NULL,
	test_name varchar(40) NULL,
	test_questions varchar(500) NULL,
	test_answer varchar(100) NULL,
	questions_point varchar(100) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 자료실 테이블
-------------------------------------------------------------------------------------
drop sequence seq_library;
create sequence seq_library
	start with 1
	increment by 1
	nocache ;

DROP TABLE library CASCADE CONSTRAINTS;
CREATE TABLE library (
	li_num number primary key,
	title varchar2(20) NULL,
	lec_num number NULL,
	mem_num number NULL,
	writer varchar2(20) NULL,
	day varchar2(20) NULL,
	content varchar2(30) NULL,
	upload varchar2(200) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 시험 결과 테이블
-------------------------------------------------------------------------------------
DROP TABLE test_result CASCADE CONSTRAINTS;
CREATE TABLE test_result (
	test_num number NULL,
	lec_num number NULL,
	stu_num number NULL,
	correct number NULL,
	point number NULL
);

commit;
-------------------------------------------------------------------------------------
--- 결재-승인 테이블
-------------------------------------------------------------------------------------
drop sequence seq_request;
create sequence seq_request
	start with 1
	increment by 1
	nocache ;

DROP TABLE request CASCADE CONSTRAINTS;
CREATE TABLE request (
	req_num number primary key,
	mem_num number NULL,
	app_num varchar2(20) NULL,
	category varchar2(20) NULL,
	time1 varchar2(20) NULL,
	time2 varchar2(20) NULL,
	reason varchar2(30) NULL,
	sign varchar2(100) NULL,
	ap_situ varchar2(20) NULL,
	ap_date varchar2(20) NULL
);


-- 데이터 삽입
INSERT INTO request (req_num, mem_num, app_num, category, time1, time2, reason, sign, ap_situ, ap_date)
VALUES (seq_request.NEXTVAL, 6, 'APP001', '휴가', '2024-06-25 08:00', '2024-06-25 10:00', '하핳ㅎ헣', 'sign1.pdf', 'approved', '2024-06-25');

INSERT INTO request (req_num, mem_num, app_num, category, time1, time2, reason, sign, ap_situ, ap_date)
VALUES (seq_request.NEXTVAL, 7, 'APP002', '조퇴', '2024-06-26 09:00', '2024-06-26 11:00', '친구 생일', 'sign2.pdf', 'pending', '2024-06-26');

INSERT INTO request (req_num, mem_num, app_num, category, time1, time2, reason, sign, ap_situ, ap_date)
VALUES (seq_request.NEXTVAL, 8, 'APP003', '결석', '2024-06-27 10:00', '2024-06-27 12:00', '일정이 있습니다', 'sign3.pdf', 'rejected', '2024-06-27');

INSERT INTO request (req_num, mem_num, app_num, category, time1, time2, reason, sign, ap_situ, ap_date)
VALUES (seq_request.NEXTVAL, 9, 'APP004', '조퇴', '2024-06-28 13:00', '2024-06-28 15:00', '미팅이 있습니다', 'sign4.pdf', 'approved', '2024-06-28');

INSERT INTO request (req_num, mem_num, app_num, category, time1, time2, reason, sign, ap_situ, ap_date)
VALUES (seq_request.NEXTVAL, 10, 'APP005', '결석', '2024-06-29 14:00', '2024-06-29 16:00', '아파요', 'sign5.pdf', 'pending', '2024-06-29');



commit;
-------------------------------------------------------------------------------------
-- 서류 제출 테이블
-------------------------------------------------------------------------------------

drop sequence seq_document;
create sequence seq_document
	start with 1
	increment by 1
	nocache ;

DROP TABLE document CASCADE CONSTRAINTS;
CREATE TABLE document (
	doc_num number primary key,
	mem_num number NULL,
	doc_title varchar2(100) NULL,
	doc_file varchar2(200) NULL,
	doc_situ varchar2(20) NULL
);

commit;
-------------------------------------------------------------------------------------
-- 기타 서류 요청 테이블
-------------------------------------------------------------------------------------
drop sequence etc_seq;

create sequence etc_seq
increment by 1
start with 1
minvalue 1
maxvalue 10000
nocache;

DROP TABLE etc;

CREATE TABLE etc (
	etc_num		number		primary key,
	mem_num		number		NULL,
	etc_title		varchar2(50)	NULL,
	etc_content		varchar2(100)	NULL,
	etc_sdate		date			NULL,
	etc_fdate		date			NULL,
	etc_file_path		varchar2(300)	NULL
);

commit;
===================================
==== 질문 게시판 테이블
===================================

drop sequence seq_faq;
create sequence seq_faq
	start with 1
	increment by 1
	nocache ;

DROP TABLE faq CASCADE CONSTRAINTS;
CREATE TABLE faq (
	faq_num number primary key,
	lec_num number NULL,
	mem_num number NULL,
	writer varchar2(20) NULL,
	title varchar2(50) NULL,
	content varchar2(100) NULL,
	regdate varchar2(20) NULL
);
commit;
-------------------------------------------------------------------------------------
-- 커뮤니티 테이블
-------------------------------------------------------------------------------------
drop sequence seq_community;
create sequence seq_community
	start with 1
	increment by 1
	nocache ;

DROP TABLE community CASCADE CONSTRAINTS;
CREATE TABLE community (
	comm_num number primary key,
	title varchar2(30) NULL,
	lec_num number NULL,
	mem_num number NULL,
	writer varchar2(15) NULL,
	day date NULL,
	content varchar2(50) NULL,
	upload varchar2(200) NULL,
	read number NULL
);

commit;
-------------------------------------------------------------------------------------
-- 커뮤니티 답글 테이블
-------------------------------------------------------------------------------------
DROP TABLE community_reply CASCADE CONSTRAINTS;
CREATE TABLE community_reply (
	comm_num number NULL,
	mem_num number NULL,
	writer varchar2(15) NULL,
	day date NULL,
	content varchar2(30) NULL
);
commit;

===================================
==== 질문 게시판 답글 테이블
===================================

DROP TABLE faq_reply CASCADE CONSTRAINTS;
CREATE TABLE faq_reply (
	faq_num number NOT NULL,
	mem_num number NULL,
	writer varchar2(20) NULL,
	content varchar2(100) NULL,
	regdate varchar2(20) NULL
);

commit;

-------------------------------------------------------------------------------------
-- 소식(알림) 테이블
-------------------------------------------------------------------------------------
drop sequence seq_news;
create sequence seq_news
	start with 1
	increment by 1
	nocache ;

DROP TABLE news CASCADE CONSTRAINTS;
CREATE TABLE news (
	news_num number primary key,
	bd_name varchar2(20) NULL,
	bd_num number NULL,
	sender_num number NULL,
	receiver_num number NULL,
	state varchar2(10) NULL,
	day date NULL
);

commit;
-------------------------------------------------------------------------------------
-- 메신저 테이블
-------------------------------------------------------------------------------------
drop sequence seq_Messenger;
create sequence seq_Messenger
	start with 1
	increment by 1
	nocache ;

DROP TABLE Messenger CASCADE CONSTRAINTS;
CREATE TABLE Messenger (
	msg_num number primary key,
	group_num number NULL,
	send_num number NULL,
	receive_num number NULL,
	ogmsg_num number NULL,
	title varchar2(50) NULL,
	content varchar2(50) NULL,
	msg_whether varchar2(20) NULL,
	msg_upload varchar2(200) NULL,
	regdate date NULL
);

commit;

===================================
==== 스터디그룹 테이블
===================================

drop sequence seq_study_group;
create sequence seq_study_group
	start with 1
	increment by 1
	nocache ;

DROP TABLE study_group CASCADE CONSTRAINTS;
CREATE TABLE study_group (
	sg_num number primary key,
	title varchar2(20) NULL,
	reader VARCHAR(255) NULL,
	participant VARCHAR(255) NULL,
	participant_num number NULL,
	Status varchar2(30) NULL
);

commit;